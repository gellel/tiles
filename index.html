<!doctype html>
<html>
	<head>
		<title>double</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="Content-Language" content="en">
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>
	<body>
		<script src="js/prototypes.js"></script>
		<script src="js/keyframe.js"></script>
		<script src="js/queue.js"></script>
		<script src="js/heap.js"></script>
		<script src="js/base.js"></script>
		<script src="js/grid.js"></script>
		<script src="js/graph.js"></script>
		<script src="js/path.js"></script>
		<script src="js/tile.js"></script>
		<script src="js/simplex.js"></script>
		<script src="js/character.js"></script>
		<script src="js/canvas.js"></script>
		<script type="text/javascript">

			var geography = [
				{ class: "ocean", related: [], cost: 7, hex: "#25a9cb" },
				{ class: "ocean", related: [], cost: 6, hex: "#28aed0" },

				{ class: "sea", related: [], cost: 5, hex: "#32b7d8" }, 
				{ class: "sea", related: [], cost: 4, hex: "#3dc2e3" }, 

				{ class: "coast", related: [], cost: 3, hex: "#4ccbeb" }, 
				{ class: "coast", related: [], cost: 2, hex: "#57d8f8" },

				{ class: "shore", related: [], cost: 1, hex: "6ee0fc" },
				{ class: "shore", related: [], cost: 5, hex: "#77e3fd" },
				{ class: "shore", related: [], cost: 3, hex: "#b1e1d1" },
				{ class: "shore", related: [], cost: 3, hex: "#cae1b1" }, 

				{ class: "beach", related: [], cost: 3, hex: "#ebe8b5" }, 
				{ class: "beach", related: [], cost: 2, hex: "#e3dfa1" }, 

				{ class: "sand", related: [], cost: 1, hex: "#e1dd9d" },

				{ class: "soil", related: [], cost: 0, hex: "#dbd793" }, 

				{ class: "grass", related: [], cost: 1, hex: "#64d977" }, 
				{ class: "grass", related: [], cost: 2, hex: "#56d16a" }, 
				{ class: "grass", related: [], cost: 3, hex: "#4cc760" },

				{ class: "hill", related: [], cost: 1, hex: "#47c55c" },
				{ class: "hill", related: [], cost: 2, hex: "#42c458" },
				{ class: "hill", related: [], cost: 3, hex: "#3ec054" },
				{ class: "hill", related: [], cost: 4, hex: "#38bb4e" },

				{ class: "alpine", related: [], cost: 1, hex: "#38bb69" },
				{ class: "alpine", related: [], cost: 2, hex: "#38ae64" },
				{ class: "alpine", related: [], cost: 3, hex: "#369c5c" },
				{ class: "alpine", related: [], cost: 4, hex: "#469263" },
				{ class: "alpine", related: [], cost: 5, hex: "#4b8761" }
			];


			var grid = new Grid({ 
				__init__: true, columns: 120, rows: 60, scale: 10 });


			var graph = new Graph(
				Object.assign(grid.__this__(), { __class__: Tile }));


			var noise = new Simplex(
				{ min: 0, max: geography.length, 
					octaves: 14, amplitude: 1.0, frequency: 0.01, distribution: 0.05, persistence: 0.45 });

			var world = new Canvas(
				Object.assign(grid.__this__(), { attr: { style: "position: absolute; z-index: 1;" } }));


			var canvas = new Canvas(
				Object.assign(grid.__this__(), { attr: { style: "position: absolute; z-index: 2;" } }))


			graph.editTiles(function (tile) { 
				return Object.assign(tile, geography[Math.floor(noise.process(tile.column, tile.row))])
			});	

			graph.getTiles(function (tile) {
				world.drawGridSquare(tile, { fillStyle: tile.hex })
			})

			/** create base path class **/
			var path = new Path(Object.assign(graph.__this__(), { __copy__: true }));




		</script>
	</body>
</html>